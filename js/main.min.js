$(document).ready(function() {
    $('#PaymentForm').submit(function(e) {
        e.preventDefault();

        var email = $('#Email').val();
        var firstName = $('#FirstName').val();
        var lastName = $('#LastName').val();
        var address = $('#Address').val();
        var apartement = $('#Apartement').val();
        var city = $('#City').val();
        var country = $('#Country').val();
        var postal = $('#Postal').val();

        FlutterwaveCheckout({
            public_key: 'FLWPUBK_TEST-6df6c1e52cae650afcaa03888a54a64c-X',
            tx_ref: 'AFRICA-XYZ-1',
            amount: '100',
            currency: 'RWF',
            country: 'RW',
            payment_options: 'card, mobilemoney',
            redirect_url: 'http://localhost/work/africaxyz-challenge/payment.html',
            meta: {
                client_email: email,
                client_firstname: firstName,
                client_lastname: lastName,
                client_address: address,
                client_apartement: apartement,
                client_city: city,
                client_country: country,
                client_postal: postal,
            },
            customer: {
                name: firstName + ' ' + lastName,
                email: email,
            },
            customizations: {
                title: 'AFRICA XYZ',
                description: 'Africa XYZ Payment'
            }
        });
    });
});